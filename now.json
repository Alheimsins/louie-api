{
  "version": 2,
  "name": "louie-api",
  "scope": "alheimsins",
  "alias": "api.louie.alheimsins.net",
  "env": {
    "PDF_SERVICE_URL": "https://pdf.louie.alheimsins.net/api/generate/pdf",
    "MONGODB_CONNECTION": "@louie-db-connection-demo",
    "MONGODB_TJOMMI_COLLECTION": "tjommi",
    "MONGODB_LOGS_COLLECTION": "logs",
    "MONGODB_NAME": "louie"
  },
  "builds": [
    {
      "src": "/*.md",
      "use": "@now/md"
    },
    {
      "src": "/src/api/*.js",
      "use": "@now/node"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/src/api/options.js",
      "methods": ["OPTIONS"],
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
      }
    },
    {
      "src": "/api/groups",
      "dest": "/src/api/get-groups.js",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
      }
    },
    {
      "src": "/api/students",
      "dest": "/src/api/get-students.js",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
      }
    },
    {
      "src": "/api/students/(.*)",
      "dest": "/src/api/get-student.js?username=$1",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
      }
    },
    {
      "src": "/api/documents",
      "dest": "/src/api/get-documents.js",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
      }
    },
    {
      "src": "/api/documents/generate",
      "dest": "/src/api/document-generate.js",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
      }
    },
    {
      "src": "/api/documents/generate/base64",
      "dest": "/src/api/document-generate-base64.js",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept, Authorization",
        "Access-Control-Allow-Methods": "OPTIONS, POST",
        "Access-Control-Allow-Credentials": "true",
        "Access-Control-Max-Age": "3600"
      }
    },
    {
      "src": "/api/documents/send",
      "dest": "/src/api/document-send.js",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
      }
    },
    {
      "src": "/(.*)",
      "dest": "/README.html"
    }
  ]
}
